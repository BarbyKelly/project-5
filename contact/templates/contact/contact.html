<!-- Base for contact.html learned from https://github.com/denisklopotan/vegan-sneaker-store/blob/main/contact/templates/contact.html -->
{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block page_header %}
    <div class="container header-container">
        <div class="row">
            <div class="col"></div>
        </div>
    </div>
{% endblock %}

<!-- Meta block learned from https://github.com/kera-cudmore/seaside-sewing/blob/main/contact/templates/contact/contact.html -->
{% block extra_meta %}
    <meta name="description" content="Kelly's Art & Photo Boutique - Contact our Boutique. An online shop selling variety of art and photos. ">
    <meta name="keywords" content="Contact Boutique, contact us, Kelly's Art & Photo Boutique, art, photos, drawings, online shop, shop, kids' art">
{% endblock %}

{% block content %}
<div class="overlay"></div>
<div class="container mt-1 mb-2">
    <div class="row">
        <div class="col-12 mt-2">
            <!-- Message after submit is clicked. Taken from previous contact_success.html and edited with tips from chat gpt -->
            {% if submitted %}
                <!-- Success message shown only after valid submission -->
                <div class="alert alert-success font-weight-bold text-center my-4" role="alert" style="background-color: cornflowerblue; color: white">
                    {{ confirmation_text }}
                </div>

                <!-- Button to return to shopping -->
                <div class="text-center">
                    <a href="{% url 'products' %}" class="btn btn-outline-black my-2">
                        <span class="mr-1"><i class="fa-solid fa-chevron-left"></i></span>
                        <span>Back to Boutique</span>
                    </a>
                </div>
            {% else %}
                <!-- Show Contact Form before submission or if errors in the filled form -->
                <div class="row">
                    <div class="col">
                        <h1 class="logo-font mt-2">Contact Our Boutique</h1>
                    </div>
                </div>
                <p class="text-muted">Please fill in the form below for any queries!</p>

                <form class="mt-2" method="POST">
                    {{ contact_form|crispy }}
                    {% csrf_token %}

                    <!-- 'Back to Boutique' and 'Submit' Buttons -->
                    <div class="d-flex flex-column flex-sm-row justify-content-center align-items-center mb-2">
                        <a href="{% url 'products' %}" class="btn btn-outline-black d-flex align-items-center my-2 mb-sm-0">
                            <span class="mr-1"><i class="fa-solid fa-chevron-left"></i></span>
                            <span>Back to Boutique </span>
                        </a>
                        <button type="submit" class="btn btn-outline-black d-flex align-items-center justify-content-center my-2 mb-sm-0 ml-sm-2" id="submit-button">
                            <span>Submit Contact Form</span>
                        </button>
                    </div>
                </form>
            {% endif %}
   
        </div>
    </div>
</div>
{% endblock %}